---
layout: post
title:  "Smart Contract Deploy"
date:   2019-08-02 00:00:00 +0200
description: Explained how to deploy smart contract into ethereum blockchain.
---

## Smart Contract deploy

Run the geth console first.
{% highlight markdown %}
$ geth attach http://localhost:8545
{% endhighlight %}

then, run following command to deploy erc token contract.

{% highlight markdown %}
var abi = [{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"unpause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"paused","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_subtractedValue","type":"uint256"}],"name":"decreaseApproval","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"pause","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_donor","type":"address"},{"name":"_beneficiary","type":"address"},{"name":"amount","type":"uint256"},{"name":"_duration","type":"uint256"},{"name":"_revocable","type":"bool"}],"name":"lock","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_addedValue","type":"uint256"}],"name":"increaseApproval","outputs":[{"name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_supply","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"to","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"totalSupply","type":"uint256"}],"name":"Burn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"token","type":"address"},{"indexed":false,"name":"beneficiary","type":"address"},{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"releaseTime","type":"uint256"}],"name":"Lock","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]
var bytecode = "60606040526003805460a060020a60ff021916905534156200002057600080fd5b604051602080620017d48339810160405280805160038054600160a060020a03191633600160a060020a03161790559150508015156200005f57600080fd5b600160a060020a033316600090815260208190526040908190208290556001829055805190810160405260048082527f424f5241000000000000000000000000000000000000000000000000000000006020830152908051620000c792916020019062000165565b5060408051908101604052600481527f424f524100000000000000000000000000000000000000000000000000000000602082015260059080516200011192916020019062000165565b506006805460ff19166012179055600160a060020a03331660007fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405190815260200160405180910390a3506200020a565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001a857805160ff1916838001178555620001d8565b82800160010185558215620001d8579182015b82811115620001d8578251825591602001919060010190620001bb565b50620001e6929150620001ea565b5090565b6200020791905b80821115620001e65760008155600101620001f1565b90565b6115ba806200021a6000396000f3006060604052600436106100fb5763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166306fdde038114610100578063095ea7b31461018a57806318160ddd146101c057806323b872dd146101e5578063313ce5671461020d5780633f4ba83a1461023657806342966c681461024b5780635c975abb14610261578063661884631461027457806370a08231146102965780638456cb59146102b55780638c0d4199146102c85780638da5cb5b1461031457806395d89b4114610327578063a9059cbb1461033a578063d73dd6231461035c578063dd62ed3e1461037e578063f2fde38b146103a3575b600080fd5b341561010b57600080fd5b6101136103c2565b60405160208082528190810183818151815260200191508051906020019080838360005b8381101561014f578082015183820152602001610137565b50505050905090810190601f16801561017c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561019557600080fd5b6101ac600160a060020a0360043516602435610460565b604051901515815260200160405180910390f35b34156101cb57600080fd5b6101d361048d565b60405190815260200160405180910390f35b34156101f057600080fd5b6101ac600160a060020a0360043581169060243516604435610493565b341561021857600080fd5b6102206104c0565b60405160ff909116815260200160405180910390f35b341561024157600080fd5b6102496104c9565b005b341561025657600080fd5b610249600435610548565b341561026c57600080fd5b6101ac610680565b341561027f57600080fd5b6101ac600160a060020a0360043516602435610690565b34156102a157600080fd5b6101d3600160a060020a03600435166106b4565b34156102c057600080fd5b6102496106cf565b34156102d357600080fd5b6102f8600160a060020a03600435811690602435166044356064356084351515610753565b604051600160a060020a03909116815260200160405180910390f35b341561031f57600080fd5b6102f86108da565b341561033257600080fd5b6101136108e9565b341561034557600080fd5b6101ac600160a060020a0360043516602435610954565b341561036757600080fd5b6101ac600160a060020a0360043516602435610978565b341561038957600080fd5b6101d3600160a060020a036004358116906024351661099c565b34156103ae57600080fd5b610249600160a060020a03600435166109c7565b60048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104585780601f1061042d57610100808354040283529160200191610458565b820191906000526020600020905b81548152906001019060200180831161043b57829003601f168201915b505050505081565b60035460009060a060020a900460ff161561047a57600080fd5b6104848383610a62565b90505b92915050565b60015490565b60035460009060a060020a900460ff16156104ad57600080fd5b6104b8848484610ace565b949350505050565b60065460ff1681565b60035433600160a060020a039081169116146104e457600080fd5b60035460a060020a900460ff1615156104fc57600080fd5b6003805474ff0000000000000000000000000000000000000000191690557f7805862f689e2f13df9f062ff482ad3ad112aca9e0847911ed832e158c525b3360405160405180910390a1565b60035433600160a060020a0390811691161461056357600080fd5b600160a060020a03331660009081526020819052604090205481111561058857600080fd5b600160a060020a0333166000908152602081905260409020546105b1908263ffffffff610c4e16565b600160a060020a0333166000908152602081905260409020556001546105dd908263ffffffff610c4e16565b6001819055507f49995e5dd6158cf69ad3e9777c46755a1a826a446c6416992167462dad033b2a33826001546040518084600160a060020a0316600160a060020a03168152602001838152602001828152602001935050505060405180910390a1600033600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405190815260200160405180910390a350565b60035460a060020a900460ff1681565b60035460009060a060020a900460ff16156106aa57600080fd5b6104848383610c60565b600160a060020a031660009081526020819052604090205490565b60035433600160a060020a039081169116146106ea57600080fd5b60035460a060020a900460ff161561070157600080fd5b6003805474ff0000000000000000000000000000000000000000191660a060020a1790557f6985a02210a168e66602d3235cb6db0e70f92b3ba4d376a33c0f3d9434bff62560405160405180910390a1565b6003546000908190819033600160a060020a0390811691161461077557600080fd5b61079861078b866201518063ffffffff610d5a16565b429063ffffffff610d8316565b915030888884876107a7610f46565b600160a060020a03958616815293851660208501529190931660408084019190915260608301939093521515608082015260a0019051809103906000f08015156107f057600080fd5b90506107fc8187610d90565b507f62cded90d0b4d15cd7d67fee0ae8bac1d9c61c340a9465c7d341632f495829fc818883600160a060020a031663722713f76000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b151561087f57600080fd5b6102c65a03f1151561089057600080fd5b5050506040518051905085604051600160a060020a0394851681529290931660208301526040808301919091526060820192909252608001905180910390a1979650505050505050565b600354600160a060020a031681565b60058054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156104585780601f1061042d57610100808354040283529160200191610458565b60035460009060a060020a900460ff161561096e57600080fd5b6104848383610d90565b60035460009060a060020a900460ff161561099257600080fd5b6104848383610ea2565b600160a060020a03918216600090815260026020908152604080832093909416825291909152205490565b60035433600160a060020a039081169116146109e257600080fd5b600160a060020a03811615156109f757600080fd5b600354600160a060020a0380831691167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a36003805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600160a060020a03338116600081815260026020908152604080832094871680845294909152808220859055909291907f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259085905190815260200160405180910390a350600192915050565b6000600160a060020a0383161515610ae557600080fd5b600160a060020a038416600090815260208190526040902054821115610b0a57600080fd5b600160a060020a0380851660009081526002602090815260408083203390941683529290522054821115610b3d57600080fd5b600160a060020a038416600090815260208190526040902054610b66908363ffffffff610c4e16565b600160a060020a038086166000908152602081905260408082209390935590851681522054610b9b908363ffffffff610d8316565b600160a060020a0380851660009081526020818152604080832094909455878316825260028152838220339093168252919091522054610be1908363ffffffff610c4e16565b600160a060020a03808616600081815260026020908152604080832033861684529091529081902093909355908516917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9085905190815260200160405180910390a35060019392505050565b600082821115610c5a57fe5b50900390565b600160a060020a03338116600090815260026020908152604080832093861683529290529081205480831115610cbd57600160a060020a033381166000908152600260209081526040808320938816835292905290812055610cf4565b610ccd818463ffffffff610c4e16565b600160a060020a033381166000908152600260209081526040808320938916835292905220555b600160a060020a0333811660008181526002602090815260408083209489168084529490915290819020547f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925915190815260200160405180910390a35060019392505050565b6000821515610d6b57506000610487565b50818102818382811515610d7b57fe5b041461048757fe5b8181018281101561048757fe5b6000600160a060020a0383161515610da757600080fd5b600160a060020a033316600090815260208190526040902054821115610dcc57600080fd5b600160a060020a033316600090815260208190526040902054610df5908363ffffffff610c4e16565b600160a060020a033381166000908152602081905260408082209390935590851681522054610e2a908363ffffffff610d8316565b60008085600160a060020a0316600160a060020a031681526020019081526020016000208190555082600160a060020a031633600160a060020a03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8460405190815260200160405180910390a350600192915050565b600160a060020a033381166000908152600260209081526040808320938616835292905290812054610eda908363ffffffff610d8316565b600160a060020a0333811660008181526002602090815260408083209489168084529490915290819020849055919290917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92591905190815260200160405180910390a350600192915050565b60405161063880610f578339019056006060604052341561000f57600080fd5b60405160a0806106388339810160405280805191906020018051919060200180519190602001805191906020018051915050600160a060020a038516151561005657600080fd5b600160a060020a038416151561006b57600080fd5b600160a060020a038316151561008057600080fd5b42821161008c57600080fd5b60008054600160a060020a0319908116600160a060020a03978816178255600180548216968816969096179095556002805490951693909516929092179092556003919091556004805460ff19169115159190911790556105459081906100f390396000f3006060604052600436106100745763ffffffff60e060020a60003504166325223bd4811461007957806338af3eed146100a85780634e71d92d146100bb578063722713f7146100d0578063872a7810146100f5578063b6549f751461011c578063b91d40011461012f578063fc0c546a14610142575b600080fd5b341561008457600080fd5b61008c610155565b604051600160a060020a03909116815260200160405180910390f35b34156100b357600080fd5b61008c610164565b34156100c657600080fd5b6100ce610173565b005b34156100db57600080fd5b6100e36102f9565b60405190815260200160405180910390f35b341561010057600080fd5b610108610371565b604051901515815260200160405180910390f35b341561012757600080fd5b6100ce61037a565b341561013a57600080fd5b6100e3610504565b341561014d57600080fd5b61008c61050a565b600154600160a060020a031681565b600254600160a060020a031681565b60035460009042101561018557600080fd5b60008054600160a060020a0316906370a082319030906040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b15156101e057600080fd5b6102c65a03f115156101f157600080fd5b50505060405180519150506000811161020957600080fd5b60008054600254600160a060020a039182169263a9059cbb929091169084906040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b151561027257600080fd5b6102c65a03f1151561028357600080fd5b505050604051805150506002546003547f34fcbac0073d7c3d388e51312faf357774904998eeb8fca628b9e6f65ee1cbf791600160a060020a03169083906040518084600160a060020a0316600160a060020a03168152602001838152602001828152602001935050505060405180910390a150565b60008054600160a060020a03166370a0823130836040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561035257600080fd5b6102c65a03f1151561036357600080fd5b505050604051805191505090565b60045460ff1681565b60045460009060ff16151561038e57600080fd5b60015433600160a060020a039081169116146103a957600080fd5b60008054600160a060020a0316906370a082319030906040516020015260405160e060020a63ffffffff8416028152600160a060020a039091166004820152602401602060405180830381600087803b151561040457600080fd5b6102c65a03f1151561041557600080fd5b50505060405180519150506000811161042d57600080fd5b60008054600154600160a060020a039182169263a9059cbb929091169084906040516020015260405160e060020a63ffffffff8516028152600160a060020a0390921660048301526024820152604401602060405180830381600087803b151561049657600080fd5b6102c65a03f115156104a757600080fd5b505050604051805150506001547fec9ab91322523c899ede7830ec9bfc992b5981cdcc27b91162fb23de5791117b90600160a060020a031682604051600160a060020a03909216825260208201526040908101905180910390a150565b60035481565b600054600160a060020a0316815600a165627a7a723058208b57701d3377eee3aa1a1560be570f16694ca09999feb136cee94ddb892a5d780029a165627a7a72305820d1058f22501108f215c91903a436746332bafcf6455a191be8c373c565d7dcfa0029"

const initialTokenSupply = 1325000000 * Math.pow(10, 18)
var boraContract = klay.contract(abi);


var bora = boraContract.new(initialTokenSupply, { from: '0x78a00219f12d2f0df8445f2742788869c3fdddb2', data: '0x' + bytecode, gas: 2500000, gasPrice: '25000000000' }, function(err, contract) {
     if (!err) {
         if (!contract.address) {
              console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
         } else {
             console.log("Contract mined! Address: " + contract.address);
             console.log(contract);
         }
     }
     console.log(err);
});


> var bora = boraContract.new(initialTokenSupply, { from: '0x78a00219f12d2f0df8445f2742788869c3fdddb2', data: '0x' + bytecode, gas: 2500000, gasPrice: '25000000000' }, function(err, contract) {
    if (!err) {
          if (!contract.address) {
               console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");
          } else {
              console.log("Contract mined! Address: " + contract.address);
              console.log(contract);
          }
      }
      console.log(err);
 });

Contract transaction send: TransactionHash: 0xfe54d45b056eafef2e4110913e9c338e6e82ea7c7d2c957704c6b1d9d16724f4 waiting to be mined...
null
undefined
> Contract mined! Address: 0x7579e092813ffb498b9a1ad192975a037e703988
[object Object]

{% endhighlight %}


